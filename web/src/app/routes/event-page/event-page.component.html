<div class="event" *ngIf="event">
  <app-sidebar [actions]="sidebarActions"> </app-sidebar>
  <app-login-form
    *ngIf="showLogin"
    (close)="closeLoginPopup($event)"
  ></app-login-form>
  <div class="top-panel">
    <app-header class="header">{{ event.name }}</app-header>
  </div>
  <div class="m-5">
    <div class="row">
      <div class="col-sm-12 col-md-6 p-3">
        <img class="event-image mw-300 img-thumbnail" [src]="image" />
      </div>
      <div class="col-sm-12 col-md-6 p-3">
        <table class="table table-borderless">
          <tbody>
            <tr>
              <th>
                <span class="text">Описание</span>
              </th>
              <td>
                <span class="text">{{ eventDescription }}</span>
              </td>
            </tr>
            <tr>
              <td>
                <span class="bold text">Дата начала</span>
              </td>
              <td>
                <span class="text" *ngIf="isEndDateValid; else dateNotSet">{{
                  startDate
                }}</span>
                <ng-template #dateNotSet>
                  <span class="text">Не установлена</span>
                </ng-template>
              </td>
            </tr>
            <tr>
              <th>
                <span class="text">Дата завершения</span>
              </th>
              <td>
                <span class="text" *ngIf="isEndDateValid; else dateNotSet">{{
                  endDate
                }}</span>
                <ng-template #dateNotSet>
                  <span class="text">Не установлена</span>
                </ng-template>
              </td>
            </tr>
            <tr>
              <th>
                <span class="text">Тип соревнования</span>
              </th>
              <td>
                <span class="text">{{ eventType }}</span>
              </td>
            </tr>
            <tr>
              <td colspan="2">
                <button
                  class="btn btn-lg btn-primary mt-2"
                  (click)="register()"
                  *ngIf="canRegister"
                >
                  <span class="text">Записаться на соревнование</span>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        <!-- <app-attendees-table
          *ngIf="participants.length > 0"
          [eventOwner]="eventOwner"
          (remove)="removeUser($event)"
          title="Участники"
          [attendees]="participants"
          [eventId]="eventId"
        >
        </app-attendees-table> -->
      </div>
    </div>
    <div *ngIf="event.attendees.length > 0" class="attendees-table">
      <app-attendee-table
        [attendees]="event.attendees"
        [event]="event"
      ></app-attendee-table>
    </div>
  </div>
</div>
